const listViewBtnEl=document.querySelector("#filter-view svg:nth-of-type(1)"),flexViewBtnEl=document.querySelector("#filter-view svg:nth-of-type(2)"),listViewEls=document.querySelectorAll(".file-list-container table"),flexViewEls=document.querySelectorAll(".file-list-container ul"),sliderEl=document.querySelector("#filter-view .slider");function filterAudio(e){const t=window.location.href.includes("folder")?"&folder_id="+window.location.href.substring(window.location.href.length-10):"";fetch("/ajax/filteraudio.php?val="+e+t).then(e=>{if(e.status>=200&&e.status<300)return e.text()}).then(e=>JSON.parse(e)).then(e=>{for(item in document.querySelector(".files.flexbox").innerHTML="",document.querySelector("table.files tbody").innerHTML="",window.filterResponse=e,e)addNewFile(e[item])})}function filterFolder(e){const t=window.location.href.includes("folder")?"&parent_id="+window.location.href.substring(window.location.href.length-10):"";fetch("/ajax/filterfolder.php?val="+e+t).then(e=>{if(e.status>=200&&e.status<300)return e.text()}).then(e=>JSON.parse(e)).then(e=>{for(item in document.querySelector(".folders.flexbox").innerHTML="",document.querySelector("table.folders tbody").innerHTML="",window.filterResponse=e,e)addNewFolder(e[item])})}listViewBtnEl.onclick=(e=>{sliderEl.classList.toggle("slide-right",!1),sliderEl.classList.toggle("slide-left",!0),listViewEls.forEach((e,t)=>{e.style.display="table"}),flexViewEls.forEach((e,t)=>{e.style.display="none"})}),flexViewBtnEl.onclick=(e=>{sliderEl.classList.toggle("slide-left",!1),sliderEl.classList.toggle("slide-right",!0),flexViewEls.forEach((e,t)=>{e.style.display="flex"}),listViewEls.forEach((e,t)=>{e.style.display="none"})}),function(){function e(e){return svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),svg.setAttribute("width",90),svg.setAttribute("height",40),filters=["Mine","Shared","All"],pentagon=document.createElementNS("http://www.w3.org/2000/svg","polygon"),pentagon.setAttribute("points","10,20 20,0 90,0 90,40 20,40"),pentagon.setAttribute("fill","lightblue"),pentagon.setAttribute("stroke-width",1),purpose=document.createElementNS("http://www.w3.org/2000/svg","text"),purpose.textContent=filters[e],purpose.setAttribute("x","50%"),purpose.setAttribute("y","50%"),purpose.setAttribute("text-anchor","middle"),svg.appendChild(pentagon),svg.appendChild(purpose),svg}document.querySelector(".filter-container").querySelectorAll(".files, .folders").forEach((t,l)=>{for(let i=0;i<3;i++){let o=e(i);t.appendChild(o),o.onclick=(e=>{o.querySelector("polygon").setAttribute("points","0,20, 20,0, 90,0 90,40 20,40"),t.querySelectorAll("svg:not(:nth-child("+(i+1)+")) > polygon").forEach((e,t)=>{e.setAttribute("points","10,20 20,0 90,0 90,40 20,40")});let r=1==l?"Audio":"Folder";switch(r="filter"+r,o.querySelector("text").textContent){case"Mine":window[r]("owned");break;case"Shared":window[r]("shared");break;case"All":window[r]("all")}})}})}();
